é”™è¯¯: would reformat /Users/shiyijiufei/TaifishingV4/app/middleware/error_logging_middleware.py

Oh no! ğŸ’¥ ğŸ’” ğŸ’¥
1 file would be reformatted, 61 files would be left unchanged.


æ ‡å‡†è¾“å‡º:
--- /Users/shiyijiufei/TaifishingV4/app/middleware/error_logging_middleware.py	2025-09-13 01:04:43.066772+00:00
+++ /Users/shiyijiufei/TaifishingV4/app/middleware/error_logging_middleware.py	2025-09-13 02:00:32.669116+00:00
@@ -211,11 +211,13 @@
             enhanced_logger.critical(f"è®°å½•é”™è¯¯æ—¥å¿—å¤±è´¥: {log_error}", "error_handler")

         return {"error": "ç³»ç»Ÿé”™è¯¯", "message": "ç³»ç»Ÿå‡ºç°é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•", "status_code": 500}, 500


-def log_database_operation_error(operation: str, error: Exception, module: str | None = None, details: str | None = None) -> None:
+def log_database_operation_error(
+    operation: str, error: Exception, module: str | None = None, details: str | None = None
+) -> None:
     """è®°å½•æ•°æ®åº“æ“ä½œé”™è¯¯"""
     try:
         Log.log_error(
             message=f"æ•°æ®åº“æ“ä½œå¤±è´¥: {operation}",
             module=module or "database",
@@ -226,11 +228,13 @@
         )
     except Exception as log_error:
         enhanced_logger.critical(f"è®°å½•æ•°æ®åº“é”™è¯¯æ—¥å¿—å¤±è´¥: {log_error}", "database")


-def log_api_operation_error(endpoint: str, error: Exception, module: str | None = None, details: str | None = None) -> None:
+def log_api_operation_error(
+    endpoint: str, error: Exception, module: str | None = None, details: str | None = None
+) -> None:
     """è®°å½•APIæ“ä½œé”™è¯¯"""
     try:
         Log.log_error(
             message=f"APIæ“ä½œå¤±è´¥: {endpoint}",
             module=module or "api",
@@ -241,11 +245,13 @@
         )
     except Exception as log_error:
         enhanced_logger.critical(f"è®°å½•APIé”™è¯¯æ—¥å¿—å¤±è´¥: {log_error}", "api")


-def log_sync_operation_error(operation: str, error: Exception, module: str | None = None, details: str | None = None) -> None:
+def log_sync_operation_error(
+    operation: str, error: Exception, module: str | None = None, details: str | None = None
+) -> None:
     """è®°å½•åŒæ­¥æ“ä½œé”™è¯¯"""
     try:
         Log.log_error(
             message=f"åŒæ­¥æ“ä½œå¤±è´¥: {operation}",
             module=module or "sync",
@@ -277,11 +283,13 @@
     except Exception as e:
         print(f"DEBUG: æŸ¥æ‰¾ç›¸å…³åŒæ­¥æ—¥å¿—å¤±è´¥: {e}")
         return []


-def _merge_batch_sync_logs(start_log: Log, sync_logs: list, end_time: datetime, duration: float, status_code: int, response: Response) -> None:
+def _merge_batch_sync_logs(
+    start_log: Log, sync_logs: list, end_time: datetime, duration: float, status_code: int, response: Response
+) -> None:
     """åˆå¹¶æ‰¹é‡åŒæ­¥æ—¥å¿—"""
     try:
         # ç»Ÿè®¡ä¿¡æ¯
         total_instances = 0
         success_count = 0
@@ -371,11 +379,13 @@

         traceback.print_exc()
         return None


-def _merge_regular_request_logs(start_log: Log, end_time: datetime, duration: float, status_code: int, response: Response) -> None:
+def _merge_regular_request_logs(
+    start_log: Log, end_time: datetime, duration: float, status_code: int, response: Response
+) -> None:
     """åˆå¹¶æ™®é€šè¯·æ±‚æ—¥å¿—"""
     try:
         # åˆ›å»ºåˆå¹¶åçš„æ—¥å¿—
         merged_message = f"è¯·æ±‚: {request.method} {request.path}"
