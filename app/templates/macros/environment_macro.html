{# 环境显示宏 - 统一环境标签的显示和样式 #}

{% macro environment_badge(environment, size='normal') %}
    {% set env_config = {
        'production': {'label': '生产', 'class': 'danger'},
        'development': {'label': '开发', 'class': 'warning'},
        'testing': {'label': '测试', 'class': 'info'}
    } %}
    
    {% set config = env_config.get(environment, {'label': environment, 'class': 'secondary'}) %}
    {% set size_class = 'style="font-size: 0.7rem;"' if size == 'small' else '' %}
    
    <span class="badge bg-{{ config.class }}" {{ size_class|safe }}>
        {{ config.label }}
    </span>
{% endmacro %}

{# 环境选择选项宏 - 用于表单选择 #}
{% macro environment_options(selected_value='') %}
    <option value="">请选择环境</option>
    <option value="production" {% if selected_value == 'production' %}selected{% endif %}>生产环境</option>
    <option value="development" {% if selected_value == 'development' %}selected{% endif %}>开发环境</option>
    <option value="testing" {% if selected_value == 'testing' %}selected{% endif %}>测试环境</option>
{% endmacro %}
