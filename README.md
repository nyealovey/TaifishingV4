# æ³°æ‘¸é±¼å§ (TaifishV4)

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://python.org)
[![Flask](https://img.shields.io/badge/Flask-3.0.3-green.svg)](https://flask.palletsprojects.com)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Production%20Ready-brightgreen.svg)]()

> ä¸€ä¸ªåŸºäºFlaskçš„DBAæ•°æ®åº“ç®¡ç†Webåº”ç”¨ï¼Œæä¾›å¤šæ•°æ®åº“å®ä¾‹ç®¡ç†ã€è´¦æˆ·ç®¡ç†ã€ä»»åŠ¡è°ƒåº¦ã€æ—¥å¿—ç›‘æ§ç­‰åŠŸèƒ½ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ” **ç”¨æˆ·è®¤è¯ä¸æƒé™ç®¡ç†** - åŸºäºFlask-Loginçš„ä¼šè¯ç®¡ç†
- ğŸ—„ï¸ **å¤šæ•°æ®åº“å®ä¾‹ç®¡ç†** - æ”¯æŒPostgreSQLã€MySQLã€SQL Serverã€Oracle
- ğŸ‘¥ **è´¦æˆ·ä¿¡æ¯ç®¡ç†** - æ•°æ®åº“ç”¨æˆ·è´¦æˆ·åŒæ­¥ä¸ç®¡ç†
- ğŸ·ï¸ **è´¦æˆ·åˆ†ç±»ç®¡ç†** - æ™ºèƒ½è´¦æˆ·åˆ†ç±»ä¸æƒé™è§„åˆ™ç®¡ç†
  - ğŸ¯ è‡ªåŠ¨åˆ†ç±» - åŸºäºæƒé™è§„åˆ™è‡ªåŠ¨åˆ†ç±»è´¦æˆ·
  - ğŸ“‹ åˆ†ç±»è§„åˆ™ - æ”¯æŒMySQLã€SQL Serverã€PostgreSQLã€Oracleæƒé™è§„åˆ™
    - **MySQL**: 46ä¸ªæƒé™é…ç½®ï¼ˆå…¨å±€æƒé™29ä¸ª + æ•°æ®åº“æƒé™17ä¸ªï¼‰
    - **PostgreSQL**: 26ä¸ªæƒé™é…ç½®ï¼ˆé¢„å®šä¹‰è§’è‰²10ä¸ª + è§’è‰²å±æ€§10ä¸ª + æ•°æ®åº“æƒé™4ä¸ª + è¡¨ç©ºé—´æƒé™2ä¸ªï¼‰
    - **SQL Server**: 56ä¸ªæƒé™é…ç½®ï¼ˆæœåŠ¡å™¨è§’è‰²9ä¸ª + æ•°æ®åº“è§’è‰²9ä¸ª + æœåŠ¡å™¨æƒé™19ä¸ª + æ•°æ®åº“æƒé™19ä¸ªï¼‰
    - **Oracle**: 312ä¸ªæƒé™é…ç½®ï¼ˆç³»ç»Ÿæƒé™199ä¸ª + è§’è‰²67ä¸ª + è¡¨ç©ºé—´æƒé™21ä¸ª + è¡¨ç©ºé—´é…é¢25ä¸ªï¼‰
  - ğŸ” æƒé™æ‰«æ - å®æ—¶æ‰«æè´¦æˆ·æƒé™ä¿¡æ¯
  - ğŸ“Š åˆ†ç±»ç»Ÿè®¡ - é«˜é£é™©è´¦æˆ·ã€ç‰¹æƒè´¦æˆ·ç»Ÿè®¡
  - âš™ï¸ è§„åˆ™ç®¡ç† - çµæ´»çš„æƒé™è§„åˆ™é…ç½®
  - âœ… æƒé™å‡†ç¡®æ€§ - Oracleæƒé™é…ç½®åŸºäºSYSè´¦æˆ·å®é™…æƒé™ï¼Œç¡®ä¿100%å‡†ç¡®æ€§
- ğŸ”‘ **å‡­æ®ç®¡ç†** - å®‰å…¨çš„æ•°æ®åº“è¿æ¥å‡­æ®å­˜å‚¨
- â° **å®šæ—¶ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ** - é«˜åº¦å¯å®šåˆ¶åŒ–çš„å®šæ—¶ä»»åŠ¡è°ƒåº¦å¹³å°
  - ğŸš€ å¿«é€Ÿåˆ›å»ºå†…ç½®ä»»åŠ¡ - ä¸€é”®åˆ›å»ºå¸¸ç”¨åŒæ­¥ä»»åŠ¡
  - ğŸ“Š æ‰¹é‡ä»»åŠ¡ç®¡ç† - æ”¯æŒæ‰¹é‡å¯ç”¨/ç¦ç”¨/æ‰§è¡Œä»»åŠ¡
  - ğŸ“ˆ æ‰§è¡Œç»Ÿè®¡ç›‘æ§ - è¯¦ç»†çš„è¿è¡Œç»Ÿè®¡å’ŒæˆåŠŸç‡åˆ†æ
  - ğŸ”„ å®æ—¶ä»»åŠ¡æ‰§è¡Œ - æ”¯æŒç«‹å³æ‰§è¡Œå’Œå®šæ—¶æ‰§è¡Œ
- ğŸ“ˆ **å®æ—¶ç›‘æ§ä»ªè¡¨æ¿** - ç³»ç»ŸçŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯
- ğŸ“ **æ“ä½œæ—¥å¿—è®°å½•** - å®Œæ•´çš„å®¡è®¡æ—¥å¿—
- ğŸš€ **RESTful API** - å®Œæ•´çš„APIæ¥å£

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.13+ (æ¨èä½¿ç”¨ uv ç®¡ç†)
- Redis 6.0+
- SQLite 3.0+ (å¼€å‘ç¯å¢ƒ)
- PostgreSQL 12+ (ç”Ÿäº§ç¯å¢ƒ)

### å®‰è£…æ­¥éª¤

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ UV (æ¨è)

1. **å®‰è£… UV**
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
source $HOME/.local/bin/env
```

2. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/nyealovey/TaifishingV4.git
cd TaifishingV4
```

3. **å®‰è£…ä¾èµ–å¹¶å¯åŠ¨**
```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–å¹¶å¯åŠ¨åº”ç”¨
./start_uv.sh

# æˆ–è€…æ‰‹åŠ¨å®‰è£…
uv sync
uv run python app.py
```

4. **å¼€å‘ç¯å¢ƒå·¥å…·**
```bash
# è¿è¡Œå¼€å‘ç¯å¢ƒæ£€æŸ¥ï¼ˆæ ¼å¼åŒ–ã€æ£€æŸ¥ã€æµ‹è¯•ï¼‰
./dev_uv.sh

# ç®¡ç†ä¾èµ–
./manage_deps_uv.sh help
./manage_deps_uv.sh add requests
./manage_deps_uv.sh add-dev pytest
```

#### æ–¹æ³•äºŒï¼šä¼ ç»Ÿæ–¹å¼

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/nyealovey/TaifishingV4.git
cd TaifishingV4
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate  # Windows
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

4. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯
```

5. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
# åˆ›å»ºæ•°æ®åº“è¿ç§»
flask db upgrade

# åˆå§‹åŒ–æƒé™é…ç½®ï¼ˆé‡è¦ï¼ï¼‰
python scripts/init_permission_config.py
```

6. **åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·**
```bash
python scripts/create_admin_user.py
```

7. **å¯åŠ¨åº”ç”¨**
```bash
python app.py
```

### æ•°æ®åº“åˆå§‹åŒ–

ç³»ç»ŸåŒ…å«å®Œæ•´çš„æƒé™é…ç½®åˆå§‹åŒ–è„šæœ¬ï¼Œæ”¯æŒä»¥ä¸‹æ•°æ®åº“ç±»å‹ï¼š

- **MySQL**: 46ä¸ªæƒé™é…ç½®
- **PostgreSQL**: 26ä¸ªæƒé™é…ç½®  
- **SQL Server**: 56ä¸ªæƒé™é…ç½®
- **Oracle**: 312ä¸ªæƒé™é…ç½®ï¼ˆåŸºäºSYSè´¦æˆ·å®é™…æƒé™ï¼‰

**é‡è¦è¯´æ˜**: Oracleæƒé™é…ç½®åŸºäºSYSè´¦æˆ·çš„å®é™…æƒé™ï¼Œç¡®ä¿100%å‡†ç¡®æ€§ã€‚æ‰€æœ‰æƒé™éƒ½ç»è¿‡éªŒè¯ï¼Œåˆ é™¤äº†ä¸å­˜åœ¨çš„æƒé™ï¼ˆå¦‚`DROP ROLE`ã€`CREATE INDEX`ç­‰ï¼‰ã€‚

è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒï¼š[æ•°æ®åº“åˆå§‹åŒ–æ–‡æ¡£](docs/database_initialization.md)

8. **è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:5001

### Docker éƒ¨ç½²

```bash
# ä½¿ç”¨Docker Compose
docker-compose up -d

# æˆ–ä½¿ç”¨Docker
docker build -t taifish .
docker run -p 5001:5001 taifish
```

## ğŸ“– åŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ç™»å‡º
- å¯†ç ä¿®æ”¹å’Œç”¨æˆ·èµ„æ–™ç®¡ç†
- åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶
- JWTä»¤ç‰Œè®¤è¯æ”¯æŒ

### 2. æ•°æ®åº“å®ä¾‹ç®¡ç†
- æ”¯æŒPostgreSQLã€MySQLã€SQL Serverã€Oracle
- å®ä¾‹åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤
- è¿æ¥æµ‹è¯•å’ŒçŠ¶æ€ç›‘æ§
- å®ä¾‹ç»Ÿè®¡å’Œæ ‡ç­¾ç®¡ç†

### 3. å‡­æ®ç®¡ç†
- å®‰å…¨çš„æ•°æ®åº“è¿æ¥å‡­æ®å­˜å‚¨
- å‡­æ®ä¸å®ä¾‹å…³è”ç®¡ç†
- å‡­æ®çŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯
- å¯†ç åŠ å¯†å­˜å‚¨

### 4. è´¦æˆ·ä¿¡æ¯ç®¡ç†
- æ•°æ®åº“ç”¨æˆ·è´¦æˆ·åŒæ­¥
- æŒ‰æ•°æ®åº“ç±»å‹ç­›é€‰è´¦æˆ·
- è´¦æˆ·çŠ¶æ€å’Œæƒé™ç®¡ç†
- è´¦æˆ·ç»Ÿè®¡ä¿¡æ¯

### 5. è´¦æˆ·åˆ†ç±»ç®¡ç†
- **æ™ºèƒ½åˆ†ç±»** - åŸºäºæƒé™è§„åˆ™è‡ªåŠ¨åˆ†ç±»è´¦æˆ·
- **åˆ†ç±»è§„åˆ™** - æ”¯æŒå¤šç§æ•°æ®åº“ç±»å‹çš„æƒé™è§„åˆ™é…ç½®
  - MySQL: å…¨å±€æƒé™ã€æ•°æ®åº“æƒé™è§„åˆ™
  - SQL Server: æœåŠ¡å™¨è§’è‰²ã€æœåŠ¡å™¨æƒé™ã€æ•°æ®åº“è§’è‰²ã€æ•°æ®åº“æƒé™è§„åˆ™
  - PostgreSQL: è§’è‰²å±æ€§ã€æ•°æ®åº“æƒé™è§„åˆ™
  - Oracle: ç³»ç»Ÿæƒé™ã€å¯¹è±¡æƒé™è§„åˆ™
- **æƒé™æ‰«æ** - å®æ—¶æ‰«æå’ŒåŒæ­¥è´¦æˆ·æƒé™ä¿¡æ¯
- **åˆ†ç±»ç»Ÿè®¡** - é«˜é£é™©è´¦æˆ·ã€ç‰¹æƒè´¦æˆ·ç­‰ç»Ÿè®¡ä¿¡æ¯
- **è§„åˆ™ç®¡ç†** - çµæ´»çš„æƒé™è§„åˆ™åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤
- **å¤šåˆ†ç±»æ”¯æŒ** - æ”¯æŒè´¦æˆ·åŒ¹é…å¤šä¸ªåˆ†ç±»è§„åˆ™

### 6. å®šæ—¶ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ
- **å¿«é€Ÿåˆ›å»ºåŠŸèƒ½** - ä¸€é”®åˆ›å»ºå¸¸ç”¨åŒæ­¥ä»»åŠ¡ï¼ˆè´¦æˆ·ã€ç‰ˆæœ¬ã€å¤§å°åŒæ­¥ï¼‰
- **æ‰¹é‡æ“ä½œç®¡ç†** - æ”¯æŒæ‰¹é‡å¯ç”¨/ç¦ç”¨/æ‰§è¡Œä»»åŠ¡
- **ä»»åŠ¡çŠ¶æ€ç›‘æ§** - è¯¦ç»†çš„çŠ¶æ€æ˜¾ç¤ºå’Œæ‰§è¡Œç»Ÿè®¡
- **å†…ç½®ä»»åŠ¡æ¨¡æ¿** - PostgreSQL/MySQL/SQL Server/OracleåŒæ­¥ä»»åŠ¡
- **è‡ªå®šä¹‰ä»»åŠ¡** - æ”¯æŒè‡ªå®šä¹‰Pythonä»£ç æ‰§è¡Œ
- **æ™ºèƒ½åŒ¹é…** - æŒ‰æ•°æ®åº“ç±»å‹è‡ªåŠ¨åŒ¹é…å®ä¾‹
- **æ‰§è¡Œç»Ÿè®¡** - è¿è¡Œæ¬¡æ•°ã€æˆåŠŸç‡ã€æœ€åæ‰§è¡Œæ—¶é—´ç­‰
- **è°ƒåº¦ç®¡ç†** - æ”¯æŒCronè¡¨è¾¾å¼çš„å®šæ—¶æ‰§è¡Œ

- å…¨å±€é…ç½®å‚æ•°ç®¡ç†
- å‚æ•°åˆ†ç±»å’ŒåŠ å¯†å­˜å‚¨
- å‚æ•°éªŒè¯å’Œæ›´æ–°
- ç³»ç»Ÿé…ç½®çƒ­æ›´æ–°

### 7. æ“ä½œæ—¥å¿—ç®¡ç†
- **å®Œæ•´çš„æ“ä½œå®¡è®¡æ—¥å¿—** - è®°å½•æ‰€æœ‰ç”¨æˆ·æ“ä½œå’Œç³»ç»Ÿäº‹ä»¶
- **æ™ºèƒ½æ—¥å¿—ç­›é€‰** - æ”¯æŒæŒ‰çº§åˆ«ã€æ¨¡å—ã€æ—¶é—´èŒƒå›´ç­›é€‰
- **åŠ¨æ€æ¨¡å—åˆ—è¡¨** - è‡ªåŠ¨è·å–å®é™…æ—¥å¿—æ¨¡å—ï¼Œç¡®ä¿ç­›é€‰å‡†ç¡®æ€§
- **æ—¥å¿—è¯¦æƒ…è§£æ** - å®Œæ•´æ˜¾ç¤ºAPIå“åº”å†…å®¹å’Œåˆå¹¶æ—¥å¿—ä¿¡æ¯
- **ä¸­é—´çŠ¶æ€è¿‡æ»¤** - è¿‡æ»¤å†—ä½™çš„ä¸­é—´çŠ¶æ€æ—¥å¿—ï¼Œæé«˜å¯è¯»æ€§
- **æ—¥å¿—ç»Ÿè®¡å’Œå¯¼å‡º** - è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯å’ŒCSVå¯¼å‡ºåŠŸèƒ½
- **å®‰å…¨æ—¥å¿—è®°å½•** - å®Œæ•´çš„ç”¨æˆ·æ“ä½œå®¡è®¡è½¨è¿¹

### 8. å®æ—¶ç›‘æ§ä»ªè¡¨æ¿
- ç³»ç»Ÿæ¦‚è§ˆå’Œç»Ÿè®¡ä¿¡æ¯
- æ•°æ®åº“å®ä¾‹çŠ¶æ€ç›‘æ§
- ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€ç›‘æ§
- æ—¥å¿—è¶‹åŠ¿å›¾è¡¨
- ç³»ç»Ÿå¥åº·æ£€æŸ¥

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **Flask 3.0.3** - Webåº”ç”¨æ¡†æ¶
- **SQLAlchemy 2.0.30** - æ•°æ®åº“ORM
- **Flask-Migrate 4.0.7** - æ•°æ®åº“è¿ç§»
- **Flask-Login 0.6.3** - ç”¨æˆ·è®¤è¯
- **Flask-JWT-Extended 4.6.0** - JWTè®¤è¯
- **Celery 5.3.6** - å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—
- **Redis 8.2.1** - ç¼“å­˜å’Œæ¶ˆæ¯é˜Ÿåˆ—

### å‰ç«¯æŠ€æœ¯
- **Bootstrap 5.3.2** - UIç»„ä»¶åº“
- **Font Awesome 6.4.0** - å›¾æ ‡åº“
- **jQuery 3.7.1** - JavaScriptåº“
- **Chart.js 4.4.0** - å›¾è¡¨åº“

### æ•°æ®åº“æ”¯æŒ
- **PostgreSQL** - ç”Ÿäº§ç¯å¢ƒä¸»æ•°æ®åº“ï¼Œæ”¯æŒè§’è‰²å±æ€§ã€æ•°æ®åº“æƒé™ã€è¡¨ç©ºé—´æƒé™
- **MySQL** - æ”¯æŒMySQLå®ä¾‹ç®¡ç†ï¼Œæ”¯æŒå…¨å±€æƒé™ã€æ•°æ®åº“æƒé™
- **SQL Server** - æ”¯æŒSQL Serverå®ä¾‹ç®¡ç†ï¼Œæ”¯æŒæœåŠ¡å™¨è§’è‰²ã€æœåŠ¡å™¨æƒé™ã€æ•°æ®åº“è§’è‰²ã€æ•°æ®åº“æƒé™
- **Oracle** - æ”¯æŒOracleå®ä¾‹ç®¡ç†ï¼Œä½¿ç”¨python-oracledbé©±åŠ¨ï¼Œæ”¯æŒç³»ç»Ÿæƒé™ã€è§’è‰²ã€è¡¨ç©ºé—´æƒé™ã€è¡¨ç©ºé—´é…é¢
- **SQLite** - å¼€å‘ç¯å¢ƒæ•°æ®åº“

> **Oracleé©±åŠ¨è¯´æ˜**: é¡¹ç›®å·²å‡çº§åˆ°python-oracledb 2.0.0ï¼Œå®Œå…¨æ”¯æŒApple Silicon Macã€‚è¯¦ç»†å®‰è£…æŒ‡å—è¯·å‚è€ƒ [Oracleé©±åŠ¨æŒ‡å—](doc/ORACLE_DRIVER_GUIDE.md)

## ğŸ“ é¡¹ç›®ç»“æ„

```
TaifishV4/
â”œâ”€â”€ app/                    # åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”œâ”€â”€ utils/             # å·¥å…·ç±»
â”‚   â””â”€â”€ templates/         # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ doc/                   # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ docker/                # Dockeré…ç½®
â”œâ”€â”€ scripts/               # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ userdata/              # ç”¨æˆ·æ•°æ®ç›®å½•
â”œâ”€â”€ migrations/            # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â”œâ”€â”€ app.py                 # åº”ç”¨å…¥å£
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# åº”ç”¨é…ç½®
FLASK_ENV=development
SECRET_KEY=your-secret-key
JWT_SECRET_KEY=your-jwt-secret

# æ•°æ®åº“é…ç½®
DATABASE_URL=sqlite:///instance.db  # å¼€å‘ç¯å¢ƒ
# DATABASE_URL=postgresql://user:pass@localhost/taifish  # ç”Ÿäº§ç¯å¢ƒ

# Redisé…ç½®
REDIS_URL=redis://localhost:6379/0

# æ—¶åŒºé…ç½®
TIMEZONE=Asia/Shanghai
```

### æ•°æ®åº“é…ç½®

æ”¯æŒå¤šç§æ•°æ®åº“é…ç½®ï¼š

```python
# SQLite (å¼€å‘ç¯å¢ƒ)
DATABASE_URL = "sqlite:///instance.db"

# PostgreSQL (ç”Ÿäº§ç¯å¢ƒ)
DATABASE_URL = "postgresql://user:password@localhost:5432/taifish"

# MySQL
DATABASE_URL = "mysql://user:password@localhost:3306/taifish"
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

1. **æœ¬åœ°å¼€å‘**
```bash
# å¯åŠ¨Redis
redis-server

# å¯åŠ¨åº”ç”¨
python app.py
```

2. **Dockerå¼€å‘ç¯å¢ƒ**
```bash
docker-compose -f docker/compose/docker-compose.yml up -d
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. **ä½¿ç”¨Docker Compose**
```bash
docker-compose -f docker-compose.prod.yml up -d
```

2. **æ‰‹åŠ¨éƒ¨ç½²**
```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
export FLASK_ENV=production
export DATABASE_URL=postgresql://user:pass@localhost/taifish

# åˆå§‹åŒ–æ•°æ®åº“
flask db upgrade

# å¯åŠ¨åº”ç”¨
gunicorn -w 4 -b 0.0.0.0:5001 app:app
```

## ğŸ“š APIæ–‡æ¡£

### è®¤è¯æ¥å£
- `POST /auth/login` - ç”¨æˆ·ç™»å½•
- `POST /auth/logout` - ç”¨æˆ·ç™»å‡º
- `POST /auth/register` - ç”¨æˆ·æ³¨å†Œ

### å®ä¾‹ç®¡ç†æ¥å£
- `GET /instances/` - è·å–å®ä¾‹åˆ—è¡¨
- `POST /instances/create` - åˆ›å»ºå®ä¾‹
- `GET /instances/<id>` - è·å–å®ä¾‹è¯¦æƒ…
- `PUT /instances/<id>/edit` - æ›´æ–°å®ä¾‹
- `DELETE /instances/<id>/delete` - åˆ é™¤å®ä¾‹

### ä»»åŠ¡ç®¡ç†æ¥å£
- `GET /tasks/` - è·å–ä»»åŠ¡åˆ—è¡¨
- `POST /tasks/create` - åˆ›å»ºä»»åŠ¡
- `POST /tasks/create-builtin` - åˆ›å»ºå†…ç½®ä»»åŠ¡
- `POST /tasks/execute-all` - æ‰¹é‡æ‰§è¡Œä»»åŠ¡

æ›´å¤šAPIæ–‡æ¡£è¯·å‚è€ƒ [APIæ–‡æ¡£](doc/api/README.md)

### æ—¥å¿—ç®¡ç†åŠŸèƒ½
è¯¦ç»†çš„æ—¥å¿—ç®¡ç†åŠŸèƒ½è¯´æ˜è¯·å‚è€ƒ [æ—¥å¿—ç®¡ç†åŠŸèƒ½æ–‡æ¡£](doc/LOG_MANAGEMENT_FEATURES.md)

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_models.py

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=app tests/
```

### æµ‹è¯•ç±»å‹
- **å•å…ƒæµ‹è¯•** - æµ‹è¯•å•ä¸ªå‡½æ•°å’Œç±»
- **é›†æˆæµ‹è¯•** - æµ‹è¯•APIæ¥å£
- **ç«¯åˆ°ç«¯æµ‹è¯•** - æµ‹è¯•å®Œæ•´ç”¨æˆ·æµç¨‹

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### æ—¥å¿—ç³»ç»Ÿ
- åº”ç”¨æ—¥å¿—: `userdata/logs/app.log`
- è®¤è¯æ—¥å¿—: `userdata/logs/auth.log`
- æ•°æ®åº“æ—¥å¿—: `userdata/logs/database.log`
- å®‰å…¨æ—¥å¿—: `userdata/logs/security.log`

### ç›‘æ§æŒ‡æ ‡
- ç³»ç»Ÿå¥åº·çŠ¶æ€
- æ•°æ®åº“è¿æ¥çŠ¶æ€
- ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
- ç”¨æˆ·æ´»è·ƒåº¦

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ‘¥ å¼€å‘å›¢é˜Ÿ

- **é¡¹ç›®è´Ÿè´£äºº**: æ³°æ‘¸é±¼å§å¼€å‘å›¢é˜Ÿ
- **ä¸»è¦è´¡çŒ®è€…**: [@nyealovey](https://github.com/nyealovey)

## ğŸ“ æ”¯æŒä¸åé¦ˆ

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/nyealovey/TaifishingV4/issues)
- **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/nyealovey/TaifishingV4/discussions)
- **æ–‡æ¡£**: [é¡¹ç›®æ–‡æ¡£](doc/)

## ğŸ—ºï¸ è·¯çº¿å›¾

### v1.1.0 (è®¡åˆ’ä¸­)
- [ ] æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤
- [ ] æ•°æ®å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] ä¸»é¢˜åˆ‡æ¢

### v1.2.0 (è®¡åˆ’ä¸­)
- [ ] å¤šç§Ÿæˆ·æ”¯æŒ
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] è‡ªåŠ¨åŒ–è¿ç»´
- [ ] ç›‘æ§å‘Šè­¦

### v2.0.0 (è®¡åˆ’ä¸­)
- [ ] å¾®æœåŠ¡æ¶æ„
- [ ] äº‘åŸç”Ÿéƒ¨ç½²
- [ ] å¤§æ•°æ®åˆ†æ
- [ ] AIæ™ºèƒ½è¿ç»´

---

**æ³°æ‘¸é±¼å§** - è®©æ•°æ®åº“ç®¡ç†æ›´ç®€å•ï¼ ğŸŸ

[![Star](https://img.shields.io/github/stars/nyealovey/TaifishingV4?style=social)](https://github.com/nyealovey/TaifishingV4)
[![Fork](https://img.shields.io/github/forks/nyealovey/TaifishingV4?style=social)](https://github.com/nyealovey/TaifishingV4/fork)